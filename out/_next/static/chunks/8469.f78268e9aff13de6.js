"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8469],{12645:function(e,a,t){var l=t(85893);t(67294);var s=t(66026),d=t(26963);a.Z=e=>{let{SecondElement:a,ThirdElement:t,FourthElement:r}=e,n=[{title:(0,l.jsxs)("span",{children:[(0,l.jsx)(d.FaHome,{size:25,id:"bcb-home-logo",className:"me-1"}),"Home"]}),href:"/"}];return""!==a&&n.push({title:a,href:"category"==a?"/all-categories":null}),""!==t&&n.push({title:t}),""!==r&&n.push({title:r,href:""}),(0,l.jsx)(s.Z,{className:"container breadcrumbWrapper",separator:"|",items:n})}},58469:function(e,a,t){t.r(a);var l=t(85893),s=t(60839),d=t(41664),r=t.n(d);t(12645);var n=t(9473),i=t(51527),c=t(73680),o=t(11163),u=t(81823),g=t(87633),m=t(13166),h=t(99131),v=t(81426),j=t(87001),x=t(67294),p=t(57981),f=t(33353),N=t(20641),y=t(48364),b=t(14758);t(8055);var w=t(46150);a.default=()=>{var e,a;let[t,d]=(0,x.useState)(0),Z=(0,o.useRouter)().query;Z.category_slug;let M=Z.slug;Z.slug;let{id:_}=(0,u.G3)();(0,n.v9)(i.Aj);let L=(0,n.v9)(v.zd),S=L&&L.lat,k=L&&L.long,[z,C]=(0,x.useState)({loading:!1,loadMoreLoading:!1}),[E,q]=(0,x.useState)(!1),[F,B]=(0,x.useState)([]),[A,D]=(0,x.useState)(0),[H,W]=(0,x.useState)(""),G=async()=>{if(L||t||M){E?C({loadMoreLoading:!0}):C({loading:!0});try{let{data:e}=await j.z.getNews({offset:8*A,limit:8,language_id:_,category_slug:M,latitude:S,longitude:k});return e.data.sort((e,a)=>new Date(a.date)-new Date(e.date)),W(e.total),C({loading:!1}),C({loadMoreLoading:!1}),e}catch(e){console.log(e),B([]),C({loading:!1})}}},{data:K}=(0,g.a)({queryKey:["category-news",_,L,M,A],queryFn:()=>G()});return(0,x.useEffect)(()=>{K&&K.data&&(E?B(e=>[...e,...K.data]):B(K.data))},[K]),(0,x.useEffect)(()=>{},[H,z]),K&&K.data&&K.data.slice(0,8),K&&K.data&&(null===(a=K.data[0])||void 0===a||null===(e=a.category)||void 0===e||e.category_name),K&&K.total,(0,l.jsx)(m.default,{children:(0,l.jsx)("div",{id:"cv-main",className:"py-3",children:(0,l.jsx)("div",{id:"cv-content",className:"",children:z.loading?(0,l.jsx)("div",{className:"row",children:[void 0,void 0,void 0].map((e,a)=>(0,l.jsx)("div",{className:"col-md-4 col-12",children:(0,l.jsx)(h.Z,{isLoading:!0})},a))}):(0,l.jsxs)("div",{className:"row",children:[F&&(null==F?void 0:F.length)>0?F.map(e=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f.Z,{children:(0,l.jsxs)(y.Z,{children:[(0,l.jsx)(N.Z,{md:2,children:(0,l.jsx)(b.Z,{})}),(0,l.jsx)(N.Z,{md:7,children:(0,l.jsx)("div",{className:"col-lg-6 col-md-4 col-12 p-2",children:(0,l.jsx)(r(),{id:"Link-all",href:{pathname:"/news/".concat(e.slug),query:{language_id:e.language_id}},as:"/news/".concat(e.slug),children:(0,l.jsxs)("div",{id:"cv-card",className:"card",children:[(0,l.jsx)("img",{id:"cv-card-image",src:e.image,className:"card-img",alt:e.title,onError:c.jM}),(0,l.jsxs)("div",{id:"cv-card-body",className:"card-body",children:[(0,l.jsx)("button",{id:"cv-btnCatagory",className:"btn btn-sm",type:"button",children:e.category.category_name}),(0,l.jsx)("p",{id:"cv-card-title",className:"card-title",children:e.title}),(0,l.jsxs)("p",{id:"cv-card-date",children:[(0,l.jsx)(s.vlc,{size:18,id:"cv-logoCalendar"}),(0,c.p6)(e.date)]})]})]})})},e.id)}),(0,l.jsx)(N.Z,{md:3,children:(0,l.jsx)(w.Z,{})})]})})})):(0,l.jsx)(l.Fragment,{children:(0,c.mo)()}),H>8&&H!==F.length?(0,l.jsx)(p.Z,{handleLoadMore:()=>{q(!0),D(A+1)},loadMoreLoading:z.loadMoreLoading}):null]})})})})}},57981:function(e,a,t){t.d(a,{Z:function(){return d}});var l=t(85893);t(67294);var s=()=>(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"loadMoreSpinnerWrapper",children:(0,l.jsx)("div",{className:"loadMoreSpinner"})})}),d=e=>{let{handleLoadMore:a,loadMoreLoading:t}=e;return(0,l.jsx)("div",{children:t?(0,l.jsx)(s,{}):(0,l.jsx)("button",{onClick:a,className:"loadMoreBtn commonBtn",children:"Load More"})})}},87001:function(e,a,t){t.d(a,{z:function(){return d}});var l=t(58326),s=t(81823);let d={getNews:e=>{let{offset:a,limit:t,id:d,get_user_news:r,search:n,language_id:i,category_id:c,category_slug:o,subcategory_id:u,subcategory_slug:g,slug:m,tag_id:h,tag_slug:v,latitude:j,longitude:x}=e;return l.Z.get(s.uA,{params:{offset:a,limit:t,id:d,get_user_news:r,search:n,language_id:i,category_id:c,category_slug:o,subcategory_id:u,subcategory_slug:g,slug:m,tag_id:h,tag_slug:v,latitude:j,longitude:x}})},setNewsView:e=>{let{news_id:a}=e;return l.Z.post(s.nB,{news_id:a})}}}}]);